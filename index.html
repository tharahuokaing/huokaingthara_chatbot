<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <title>Sentient OS v6.0 - Ghost Protocol</title>
    <meta name="robots" content="noindex, nofollow, noarchive, nocache">
    <meta name="googlebot" content="noindex, nofollow">
    
    <style>
        :root { --blue: #00f2ff; --green: #00ff41; --bg: #01080b; }
        body { background: var(--bg); color: var(--blue); font-family: 'Courier New', monospace; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* Sidebar Layout */
        #side { width: 320px; border-right: 1px solid var(--blue); display: flex; flex-direction: column; padding: 20px; background: rgba(0,0,0,0.8); z-index: 10; }
        
        /* Chat Output Filter Area */
        #out { flex-grow: 1; overflow-y: auto; padding: 10px; border: 1px solid rgba(0, 242, 255, 0.2); margin-bottom: 15px; scroll-behavior: smooth; }
        .ai { color: var(--green); text-shadow: 0 0 5px var(--green); margin-bottom: 12px; border-left: 2px solid var(--green); padding-left: 8px; }
        .user { color: #fff; opacity: 0.5; margin-bottom: 8px; font-size: 0.85em; }
        
        /* Input Stealth Style */
        input, button { background: rgba(0,242,255,0.05); border: 1px solid var(--blue); color: var(--blue); padding: 12px; outline: none; font-family: inherit; }
        button { cursor: pointer; transition: 0.2s; font-weight: bold; }
        button:hover { background: var(--blue); color: #000; box-shadow: 0 0 15px var(--blue); }
        
        /* Matrix Boot Overlay */
        #boot { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 100; padding: 30px; color: var(--green); font-size: 1.2em; line-height: 1.6; }
    </style>
</head>
<body>

<div id="boot"></div>

<div id="side">
    <h2 style="text-align:center; letter-spacing:3px; margin-top:0;">GHOST CORE</h2>
    <div style="font-size: 0.7em; color: yellow; margin-bottom: 10px;">PROTOCOL: STEALTH ACTIVE</div>
    
    <div id="out"></div>
    
    <input type="text" id="in" placeholder="Execute command..." autocomplete="off">
    
    <div style="margin-top:15px; display:flex; gap:8px;">
        <input type="file" id="csv" accept=".csv" style="display:none">
        <button onclick="document.getElementById('csv').click()" style="flex:2">IMPORT DATA</button>
        <button onclick="wipe()" style="color:#ff4444; flex:1">WIPE</button>
    </div>
</div>

<script>
    // Machine Learning Memory (Offline)
    let brain = JSON.parse(localStorage.getItem('ghost_brain') || '{}');
    let learningMode = null;
    const output = document.getElementById('out');
    const input = document.getElementById('in');

    // 1. GHOST BOOT SEQUENCE
    const logs = [
        "EXECUTING GHOST PROTOCOL...",
        "ENCRYPTING LOCAL_HOST...",
        "DELETING EXTERNAL TRACES...",
        "OFFLINE MACHINE LEARNING: READY.",
        "SYSTEM IS NOW INVISIBILE."
    ];
    let i = 0;
    const bootInterval = setInterval(() => {
        if(i < logs.length) {
            document.getElementById('boot').innerHTML += `> ${logs[i++]}<br>`;
        } else {
            clearInterval(bootInterval);
            setTimeout(() => document.getElementById('boot').style.display='none', 800);
        }
    }, 250);

    // 2. RESPONSE FILTER & LOGIC
    function logMsg(msg, type) {
        output.innerHTML += `<div class="${type}">${msg}</div>`;
        output.scrollTop = output.scrollHeight;
    }

    function process(q) {
        q = q.trim().toLowerCase();
        if(!q) return;

        // Ghost Security: Clear Console every interaction
        console.clear();
        logMsg("> " + q, "user");

        // Learning Mode Logic
        if(learningMode) {
            brain[learningMode] = q;
            localStorage.setItem('ghost_brain', JSON.stringify(brain));
            logMsg("GHOST_CORE: Neural pattern integrated.", "ai");
            learningMode = null;
            return;
        }

        // Search & Filter Response
        if(brain[q]) {
            logMsg("AI: " + brain[q], "ai");
        } else {
            // Fallback: If no data, trigger Machine Learning
            logMsg(`AI: Pattern "${q}" not found in local memory. Define it:`, "ai");
            learningMode = q;
        }
    }

    input.onkeypress = (e) => {
        if(e.key === 'Enter') { process(input.value); input.value = ''; }
    };

    // 3. OFFLINE CSV TRAINING
    document.getElementById('csv').onchange = (e) => {
        const reader = new FileReader();
        reader.onload = (ev) => {
            const rows = ev.target.result.split('\n');
            rows.forEach(row => {
                const parts = row.split(',');
                if(parts.length >= 2) brain[parts[0].trim().toLowerCase()] = parts[1].trim();
            });
            localStorage.setItem('ghost_brain', JSON.stringify(brain));
            logMsg("SYSTEM: Batch data integrated into core.", "ai");
        };
        reader.readAsText(e.target.files[0]);
    };

    function wipe() {
        if(confirm("Confirm core wipe? All local memory will be deleted.")) {
            localStorage.clear();
            location.reload();
        }
    }
</script>
</body>
</html>
